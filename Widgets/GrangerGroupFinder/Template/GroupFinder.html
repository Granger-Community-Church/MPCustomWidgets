<div class="search-filters">
  <div class="filter-group">
    <label for="ddlCongregation" class="filter-label">Campus</label>
    <select id="ddlCongregation" class="filter-select">
      <option value="">-- All Campuses --</option>
      {% for element in DataSet4 %}
        <option value="{{element.Congregation_ID}}">{{element.Congregation_Name}}</option>
      {% endfor %}
    </select>
  </div>

  <div class="filter-group">
    <label for="ddlDay" class="filter-label">Day</label>
    <select id="ddlDay" class="filter-select">
      <option value="">-- Any Day --</option>
      <option value="Sunday">Sunday</option>
      <option value="Monday">Monday</option>
      <option value="Tuesday">Tuesday</option>
      <option value="Wednesday">Wednesday</option>
      <option value="Thursday">Thursday</option>
      <option value="Friday">Friday</option>
      <option value="Saturday">Saturday</option>
    </select>
  </div>

  <div class="filter-group filter-search">
    <label for="txtKeyword" class="sr-only">Keyword Search</label>
    <div class="search-box">
      <input type="search" id="txtKeyword" class="search-input" placeholder="Search groups...">
      <button type="button" id="btnKeyword" class="search-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
        </svg>
      </button>
    </div>
  </div>
</div>




<head>
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,600&display=swap" rel="stylesheet">
</head>

<div class="group-count">
  <h3 class="mp-mt-3">{{DataSet1.length}} Groups Found</h3>
</div>

<div class="group-finder-grid">
{% for element in DataSet1 %}

<div class="group-card">
  <!-- Card -->
  <div class="mp-card mp-h-100 mp-shadow">

    <!--Card image-->
    <div class="view overlay custom--groupCard--img--container">

      {% if element.ImageGUID %}
        <img class="custom--groupCard--img" src="https://my.grangerchurch.com/ministryplatformapi/files/{{element.ImageGUID}}" alt="Group Image">
      {% else %}
        <img class="mpp-card--image" src="https://my.grangerchurch.com/widgets/Content/icons/icon-group.svg" style="margin:40px;height:80px;width:80px;">
      {% endif %}

      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>

    <div class="mp-card-body mp-d-flex mp-flex-column">

      {% if element.Future_Start %}
        <div class="ribbon ribbon-top-right"><span>New</span></div>
      {% endif %}      

      <h4 class="mp-card-title">{{element.Group_Name}}</h4>

      {% if element.Location %}
        <h6>{{element.Location}}</h6>
      {% endif %}

      {% if element.Meeting_Day %}
        <div><strong>{{element.Meeting_Day}}s 
          
          {% if element.Meeting_Time %}
            {% assign time_parts = element.Meeting_Time | date: '@ %-l:%M %p',0 | split: ' ' %}
            {% assign time = time_parts[1] %}
            {% assign period = time_parts[2] | downcase %}
            {% if time contains ':00' %}
              {{ time | remove: ':00' }} {{ period | replace:'am','a.m.' | replace:'pm','p.m.' }}
            {% else %}
              {{ time }} {{ period | replace:'am','a.m.' | replace:'pm','p.m.' }}
            {% endif %}
          {% endif %}
          
          </strong></div>
      {% endif %}

      {% if element.Target_Size and element.CurrentParticipantsCount >= element.Target_Size %}
        <div><strong>Full</strong></div>
      {% endif %}


      <div class="mp-card-text custom--groupCard--description mp-mb-2">{{element.Description}}</div>
      
     
      {% if element.Future_Start %}
        <div class="mp-mt-1 mp-mb-2 mp-text-center"><strong>First meeting: {{element.Start_Date | date: '%B %-d, %Y', 0}}</strong></div>
      {% endif %}

      <div class="mp-text-center mp-mt-auto">

        {% if element.Group_Focus %}
          <span class="mp-badge tag-badge" data-id="{{element.Group_Focus}}" data-tag="true">
            {{element.Group_Focus}}
          </span>
        {% endif %}

        {% if element.Meeting_Day %}
          <span class="mp-badge tag-badge" data-id="{{element.Meeting_Day}}" data-tag="true">
            {{element.Meeting_Day}}
          </span>
        {% endif %}

        {% if element.Life_Stage %}
          <span class="mp-badge tag-badge" data-id="{{element.Life_Stage}}" data-tag="true">
            {{element.Life_Stage}}
          </span>
        {% endif %}

        {% if element.Ministry_Name %}
        <span class="mp-badge tag-badge" data-id="{{element.Ministry_Name}}" data-tag="true">
          {{element.Ministry_Name}}
        </span>
        {% endif %}

        {% if element.Meeting_Duration_ID %}
        <span class="mp-badge tag-badge" data-id="{{element.Meeting_Duration}}" data-tag="true">
          {{element.Meeting_Duration}}
        </span>
        {% endif %}


        {% assign tagElements = element.Tags | split: ", " %}

        {% for t in tagElements %}
          <span class="mp-badge tag-badge" data-id="{{t}}" data-tag="true">{{t}}</span>
        {% endfor %}


        <div class="mp-text-center mp-mt-4 mp-mb-2">
          <a href="https://grangerchurch.com/groupdetails?id={{element.Group_ID}}" class="see-details-btn">See Details</a>
        </div>        
      </div>
  


    </div>

  </div>

</div>


{% endfor %}
</div>
